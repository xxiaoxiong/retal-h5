import{d as e,r as a,o as t,s as l,h as s,a as o,c as r,w as c,i,b as n,e as u,f as p,g as d,S as f,j as g,F as _,k as m,l as y,m as h,t as k,n as j,p as v,q as b,u as x,v as w}from"./index-BWYHzEly.js";import{g as C}from"./request.DW5hqJBG.js";import{_ as F}from"./_plugin-vue_export-helper.BCo6x5W8.js";const L=F(e({__name:"index",setup(e){const F=a([]),L=a([]),z=a([]);t((()=>{P()}));const P=async()=>{try{l({title:"加载中..."});const e=await C("/homepage");if(e.success&&e.data){const a=e.data;a.bannerList&&a.bannerList.length>0&&(F.value=a.bannerList),a.hotProperties&&a.hotProperties.length>0&&(L.value=a.hotProperties),a.topicList&&a.topicList.length>0&&(z.value=a.topicList),console.log("首页数据获取成功:",a)}else console.error("获取首页数据失败:",e),q()}catch(e){console.error("获取首页数据异常:",e),q()}finally{s()}},q=()=>{F.value=[{image:"/static/banner1.jpg",title:"精选好房，温馨舒适"},{image:"/static/banner2.jpg",title:"一键找房，轻松租赁"},{image:"/static/banner3.jpg",title:"品质生活，从这里开始"}],L.value=[{id:"1",name:"阳光雅苑两居室",location:"朝阳区 · 建国路",price:"4500",image:"/static/property1.jpg",tag:"新上"},{id:"2",name:"城市花园三居室",location:"海淀区 · 中关村",price:"6800",image:"/static/property2.jpg",tag:"特惠"},{id:"3",name:"江景公寓单间",location:"浦东新区 · 陆家嘴",price:"3500",image:"/static/property3.jpg"},{id:"4",name:"现代简约一居室",location:"西城区 · 西单",price:"5200",image:"/static/property4.jpg"}],z.value=[{title:"新手租房必读：如何避开租房陷阱",author:"租房达人",likes:"2.3k",image:"/static/topic1.jpg"},{title:"10个超实用的小户型收纳技巧",author:"家居博主",likes:"1.8k",image:"/static/topic2.jpg"},{title:"租房装修攻略：低成本改造出高级感",author:"设计师小明",likes:"3.5k",image:"/static/topic3.jpg"}],o({title:"使用默认数据",icon:"none"})},M=e=>{x({url:e,fail:a=>{console.error("常规导航失败:",a),w({url:e,fail:e=>{console.error("switchTab导航也失败:",e),o({title:"页面跳转失败",icon:"none"})}})}})},I=()=>{try{console.log("尝试跳转到租户登录页面"),x({url:"/pages/tenant/login",success(){console.log("成功跳转到租户登录页面")},fail(e){console.error("租户登录跳转失败:",e),o({title:"跳转失败: "+e.errMsg,icon:"none"})}})}catch(e){console.error("跳转出错:",e)}},S=()=>{try{console.log("尝试跳转到房东登录页面"),x({url:"/pages/landlord/login",success(){console.log("成功跳转到房东登录页面")},fail(e){console.error("房东登录跳转失败:",e),o({title:"跳转失败: "+e.errMsg,icon:"none"})}})}catch(e){console.error("跳转出错:",e)}};return(e,a)=>{const t=i,l=n("uni-icons"),s=h,o=y,x=f,w=j,C=v;return u(),r(t,{class:"app-entry"},{default:c((()=>[p(t,{class:"header"},{default:c((()=>[p(t,{class:"logo-text"},{default:c((()=>[d("租房找家")])),_:1}),p(t,{class:"header-actions"},{default:c((()=>[p(l,{type:"search",size:"22",color:"#333",onClick:a[0]||(a[0]=e=>M("/pages/tenant/property-list"))}),p(l,{type:"notification",size:"22",color:"#333",style:{"margin-left":"30rpx"}})])),_:1})])),_:1}),p(x,{class:"banner-swiper",circular:"",autoplay:"",interval:"3000",duration:"500","indicator-dots":"","indicator-color":"rgba(255,255,255,0.6)","indicator-active-color":"#ff2442"},{default:c((()=>[(u(!0),g(_,null,m(F.value,((e,a)=>(u(),r(o,{key:a},{default:c((()=>[p(s,{src:e.image,mode:"aspectFill",class:"banner-image"},null,8,["src"]),p(t,{class:"banner-text"},{default:c((()=>[d(k(e.title),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),p(t,{class:"role-container"},{default:c((()=>[p(t,{class:"section-title"},{default:c((()=>[p(w,{class:"title-text"},{default:c((()=>[d("选择您的身份")])),_:1})])),_:1}),p(t,{class:"role-cards"},{default:c((()=>[p(t,{class:"role-card tenant",onClick:I},{default:c((()=>[p(t,{class:"role-content"},{default:c((()=>[p(w,{class:"role-title"},{default:c((()=>[d("我是租户")])),_:1}),p(w,{class:"role-desc"},{default:c((()=>[d("享受便捷、舒适的租房体验")])),_:1}),p(t,{class:"role-features"},{default:c((()=>[p(w,null,{default:c((()=>[d("✓ 在线找房")])),_:1}),p(w,null,{default:c((()=>[d("✓ 一键签约")])),_:1}),p(w,null,{default:c((()=>[d("✓ 便捷缴费")])),_:1})])),_:1})])),_:1}),p(t,{class:"role-image"},{default:c((()=>[p(s,{src:"./static/tenant-card.png",mode:"aspectFill"})])),_:1}),p(l,{class:"role-arrow",type:"arrowright",size:"18",color:"#fff"})])),_:1}),p(t,{class:"role-card landlord",onClick:S},{default:c((()=>[p(t,{class:"role-content"},{default:c((()=>[p(w,{class:"role-title"},{default:c((()=>[d("我是房东")])),_:1}),p(w,{class:"role-desc"},{default:c((()=>[d("高效管理您的房源与租约")])),_:1}),p(t,{class:"role-features"},{default:c((()=>[p(w,null,{default:c((()=>[d("✓ 发布房源")])),_:1}),p(w,null,{default:c((()=>[d("✓ 管理租约")])),_:1}),p(w,null,{default:c((()=>[d("✓ 收益分析")])),_:1})])),_:1})])),_:1}),p(t,{class:"role-image"},{default:c((()=>[p(s,{src:"./static/landlord-card.png",mode:"aspectFill"})])),_:1}),p(l,{class:"role-arrow",type:"arrowright",size:"18",color:"#fff"})])),_:1})])),_:1})])),_:1}),p(t,{class:"hot-properties"},{default:c((()=>[p(t,{class:"section-title"},{default:c((()=>[p(w,{class:"title-text"},{default:c((()=>[d("精选好房")])),_:1}),p(w,{class:"more-text",onClick:a[1]||(a[1]=e=>M("/pages/tenant/property-list"))},{default:c((()=>[d("查看更多")])),_:1})])),_:1}),p(C,{"scroll-x":"",class:"property-scroll","show-scrollbar":"false"},{default:c((()=>[(u(!0),g(_,null,m(L.value,((e,a)=>(u(),r(t,{key:a,class:"property-card",onClick:a=>M(`/pages/tenant/property-detail?id=${e.id}`)},{default:c((()=>[p(s,{src:e.image,mode:"aspectFill",class:"property-image"},null,8,["src"]),e.tag?(u(),r(t,{key:0,class:"property-tag"},{default:c((()=>[d(k(e.tag),1)])),_:2},1024)):b("",!0),p(t,{class:"property-info"},{default:c((()=>[p(w,{class:"property-name"},{default:c((()=>[d(k(e.name),1)])),_:2},1024),p(w,{class:"property-location"},{default:c((()=>[d(k(e.location),1)])),_:2},1024),p(w,{class:"property-price"},{default:c((()=>[d("¥"+k(e.price)+"/月",1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),p(t,{class:"topics"},{default:c((()=>[p(t,{class:"section-title"},{default:c((()=>[p(w,{class:"title-text"},{default:c((()=>[d("租房攻略")])),_:1}),p(w,{class:"more-text",onClick:a[2]||(a[2]=e=>M("/pages/tenant/rental-guide"))},{default:c((()=>[d("全部攻略")])),_:1})])),_:1}),p(t,{class:"topic-cards"},{default:c((()=>[(u(!0),g(_,null,m(z.value,((e,a)=>(u(),r(t,{class:"topic-card",key:a},{default:c((()=>[p(s,{src:e.image,mode:"aspectFill",class:"topic-image"},null,8,["src"]),p(t,{class:"topic-info"},{default:c((()=>[p(w,{class:"topic-title"},{default:c((()=>[d(k(e.title),1)])),_:2},1024),p(t,{class:"topic-meta"},{default:c((()=>[p(w,{class:"topic-author"},{default:c((()=>[d(k(e.author),1)])),_:2},1024),p(w,{class:"topic-likes"},{default:c((()=>[d(k(e.likes)+"赞",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),p(t,{class:"footer"},{default:c((()=>[p(w,null,{default:c((()=>[d("智慧租房平台 © 2023")])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-4f37eac5"]]);export{L as default};
