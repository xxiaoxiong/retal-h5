import{d as a,r as e,H as s,o as t,c as l,w as u,a as n,i as c,e as i,f as d,j as o,F as r,k as p,G as g,g as f,t as m,p as _,q as y,m as v,n as k}from"./index-BWYHzEly.js";import{g as j}from"./request.DW5hqJBG.js";import{_ as q}from"./_plugin-vue_export-helper.BCo6x5W8.js";const h=q(a({__name:"rental-guide",setup(a){const q=[{name:"租房流程",type:"process"},{name:"注意事项",type:"tips"},{name:"常见问题",type:"faq"}],h=e(0),x=e(!1),b=e({process:[],tips:[],faq:[]}),w=s((()=>{const a=q[h.value].type;return b.value[a]||[]})),C=async a=>{if(!(b.value[a].length>0)){x.value=!0;try{const e=await j(`/rental-guides/${a}`);e&&e.success||e&&e.data?b.value[a]=e.data:n({title:(null==e?void 0:e.message)||"获取数据失败",icon:"none"})}catch(e){n({title:"网络错误，请重试",icon:"none"})}finally{x.value=!1}}};return t((()=>{C(q[0].type)})),(a,e)=>{const s=c,t=v,n=k,j=_;return i(),l(s,{class:"rental-guide-page"},{default:u((()=>[d(s,{class:"nav-tabs"},{default:u((()=>[(i(),o(r,null,p(q,((a,e)=>d(s,{key:e,class:g(["tab-item",{active:h.value===e}]),onClick:a=>(a=>{h.value=a,C(q[a].type)})(e)},{default:u((()=>[f(m(a.name),1)])),_:2},1032,["class","onClick"]))),64))])),_:1}),d(j,{"scroll-y":"",class:"content-scroll"},{default:u((()=>[x.value?(i(),l(s,{key:0,class:"loading"},{default:u((()=>[f("加载中...")])),_:1})):(i(),l(s,{key:1,class:"guide-content"},{default:u((()=>[(i(!0),o(r,null,p(w.value,((a,e)=>(i(),l(s,{key:e,class:"guide-item"},{default:u((()=>[a.image?(i(),l(t,{key:0,src:a.image,mode:"aspectFill",class:"guide-image"},null,8,["src"])):y("",!0),d(s,{class:"guide-info"},{default:u((()=>[d(s,{class:"guide-title"},{default:u((()=>[f(m(a.title),1)])),_:2},1024),d(s,{class:"guide-desc"},{default:u((()=>[f(m(a.description),1)])),_:2},1024),d(s,{class:"guide-tags"},{default:u((()=>[(i(!0),o(r,null,p(a.tags,((a,e)=>(i(),l(n,{key:e,class:"tag"},{default:u((()=>[f(m(a),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}))])),_:1})])),_:1})}}}),[["__scopeId","data-v-d6ad613d"]]);export{h as default};
